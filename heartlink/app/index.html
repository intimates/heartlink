<!doctype html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <title>heartlink</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <link rel="shortcut icon" href="/favicon.ico">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <!-- build:css(.) styles/vendor.css -->
    <!-- bower:css -->
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:css(.tmp) styles/main.css -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/messages.css">
    <!-- endbuild -->
  </head>
  <body>
    <!--[if lt IE 10]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <div id="main" class="container">
      <div id="messages-container">
        <div v-repeat="messages" v-on="click: openMessage(id)" v-attr="id: 'message-'+ id" class="message-bubble" v-style="
          left: x +'px',
          top : y +'px'
        ">
          <div  v-attr="id: 'pn-'+ id" class="pn-color" v-style="background-color: 'rgba('+ color.r +', '+ color.g +', '+ color.b +', '+ color.a +')'"></div>
        </div>
      </div>

      <div v-if="message" v-with="message" id="message-content" class="message-content"  v-effect="message-content">
        <p v-text="body"></p>
        <button v-on="click: closeMessage">Close</button>
      </div>

      <div v-component="message-form" class="jumbotron">
        <form>
          <div class="form-group">
            <label for="userQuery">To:</label>
            <input type="text" v-model="userQuery" id="userQuery" class="form-control" />
            <select v-model="message.to_uid" id="recipient-select" class="form-control">
              <option
                v-repeat="recipientCandidates | filterBy userQuery in name"
                v-attr="value:uid"
                v-text="name">
              </option>
            </select>
          </div>
          <div class="form-group">
            <textarea v-model="message.body" row="3" class="form-control"></textarea>
          </div>

          <button v-on="click: sendMessage" type="button" class="btn btn-default">Send</button>
        </form>
      </div>

      <div v-component="login-form" class="jumbotron">
        <button v-on="click: login">Login with Facebook</button>
        <button v-on="click: logout">Logout</button>
      </div>
    </div>

    <!-- build:js(.) scripts/vendor.js -->
    <!-- bower:js -->
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/affix.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/alert.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/button.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/carousel.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/collapse.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/dropdown.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/tab.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/transition.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/scrollspy.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/modal.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/tooltip.js"></script>
    <script src="bower_components/bootstrap-sass-official/assets/javascripts/bootstrap/popover.js"></script>
    <script src="bower_components/vue/dist/vue.js"></script>
    <script src="bower_components/jquery-easing/jquery.easing.min.js"></script>
    <!-- endbower -->
    <!-- endbuild -->

    <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
    <script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='//www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create','UA-XXXXX-X');ga('send','pageview');
    </script>

    <!-- build:js({app,.tmp}) scripts/main.js -->
    <script src="scripts/user.js"></script>
    <script src="scripts/login-form.js"></script>
    <script src="scripts/message-form.js"></script>
    <script src="scripts/main.js"></script>
    <script src="scripts/layout.js"></script>
    <!-- endbuild -->
</body>
</html>
